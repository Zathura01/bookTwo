{"ast":null,"code":"var _jsxFileName = \"C:\\\\web projects\\\\ALW69-BOOK2\\\\book2\\\\src\\\\components\\\\app\\\\dashboard\\\\DashCard.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport '../dashboard/styleDash.css';\nimport Save from './Save';\nimport Invest from './Invest';\nimport Expense from './Expense';\nimport { useAuth } from '../../context/AuthContext';\nimport { useTrans } from '../../context/TransactionContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction DashCard() {\n  _s();\n  const [currentView, setCurrentView] = useState(0);\n  const [saveData, setSaveData] = useState(null);\n  const [investData, setInvestData] = useState(null);\n  const [expData, setExpData] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const {\n    auth\n  } = useAuth();\n  const {\n    trans\n  } = useTrans();\n  const handleChangeViewLeft = () => {\n    setCurrentView(prev => (prev + 1) % 3);\n  };\n  const handleChangeViewRight = () => {\n    setCurrentView(prev => (prev + 1) % 3);\n  };\n  const runFetch = async () => {\n    setLoading(true);\n    setError(null);\n    try {\n      const res = await fetch(`http://localhost:4500/api/dashdata/getAll/${auth.userId}`);\n      const jdata = await res.json();\n      if (jdata.save) setSaveData(jdata.save);\n      if (jdata.invest) setInvestData(jdata.invest);\n      if (jdata.expense) setExpData(jdata.expense);\n    } catch (err) {\n      console.error('Fetch failed:', err);\n      setError('Failed to load data');\n    } finally {\n      setLoading(false);\n    }\n  };\n  useEffect(() => {\n    runFetch();\n  }, [trans]);\n  if (loading) return /*#__PURE__*/_jsxDEV(\"p\", {\n    children: \"Loading dashboard...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 25\n  }, this);\n  if (error) return /*#__PURE__*/_jsxDEV(\"p\", {\n    style: {\n      color: 'red'\n    },\n    children: error\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 23\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"dash\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"changeViewDash\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleChangeViewLeft,\n        children: \"Prev\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"viewDash\",\n      children: [currentView === 0 && /*#__PURE__*/_jsxDEV(Save, {\n        data: saveData\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 39\n      }, this), currentView === 1 && /*#__PURE__*/_jsxDEV(Invest, {\n        data: investData\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 39\n      }, this), currentView === 2 && /*#__PURE__*/_jsxDEV(Expense, {\n        data: expData\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 39\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"changeViewDash\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleChangeViewRight,\n        children: \"Next\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 9\n  }, this);\n}\n_s(DashCard, \"MYh4o4SGjB1LhPFYRlspzN5AjxI=\", false, function () {\n  return [useAuth, useTrans];\n});\n_c = DashCard;\nexport default DashCard;\nvar _c;\n$RefreshReg$(_c, \"DashCard\");","map":{"version":3,"names":["React","useEffect","useState","Save","Invest","Expense","useAuth","useTrans","jsxDEV","_jsxDEV","DashCard","_s","currentView","setCurrentView","saveData","setSaveData","investData","setInvestData","expData","setExpData","loading","setLoading","error","setError","auth","trans","handleChangeViewLeft","prev","handleChangeViewRight","runFetch","res","fetch","userId","jdata","json","save","invest","expense","err","console","children","fileName","_jsxFileName","lineNumber","columnNumber","style","color","className","onClick","data","_c","$RefreshReg$"],"sources":["C:/web projects/ALW69-BOOK2/book2/src/components/app/dashboard/DashCard.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport '../dashboard/styleDash.css';\r\nimport Save from './Save';\r\nimport Invest from './Invest';\r\nimport Expense from './Expense';\r\nimport { useAuth } from '../../context/AuthContext';\r\nimport { useTrans } from '../../context/TransactionContext';\r\n\r\nfunction DashCard() {\r\n    const [currentView, setCurrentView] = useState(0);\r\n    const [saveData, setSaveData] = useState(null);\r\n    const [investData, setInvestData] = useState(null);\r\n    const [expData, setExpData] = useState(null);\r\n    const [loading, setLoading] = useState(true);\r\n    const [error, setError] = useState(null);\r\n    const { auth } = useAuth();\r\n    const { trans } = useTrans();\r\n\r\n    const handleChangeViewLeft = () => {\r\n        setCurrentView((prev) => (prev + 1) % 3);\r\n    };\r\n\r\n    const handleChangeViewRight = () => {\r\n        setCurrentView((prev) => (prev + 1) % 3);\r\n    };\r\n\r\n    const runFetch = async () => {\r\n        setLoading(true);\r\n        setError(null);\r\n        try {\r\n            const res = await fetch(`http://localhost:4500/api/dashdata/getAll/${auth.userId}`);\r\n            const jdata = await res.json();\r\n            if (jdata.save) setSaveData(jdata.save);\r\n            if (jdata.invest) setInvestData(jdata.invest);\r\n            if (jdata.expense) setExpData(jdata.expense);\r\n        } catch (err) {\r\n            console.error('Fetch failed:', err);\r\n            setError('Failed to load data');\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        runFetch();\r\n    }, [trans]);\r\n\r\n    if (loading) return <p>Loading dashboard...</p>;\r\n    if (error) return <p style={{ color: 'red' }}>{error}</p>;\r\n\r\n    return (\r\n        <div className='dash'>\r\n            <div className='changeViewDash'>\r\n                <button onClick={handleChangeViewLeft}>Prev</button>\r\n            </div>\r\n            <div className='viewDash'>\r\n                {currentView === 0 && <Save data={saveData} />}\r\n                {currentView === 1 && <Invest data={investData} />}\r\n                {currentView === 2 && <Expense data={expData} />}\r\n            </div>\r\n            <div className='changeViewDash'>\r\n                <button onClick={handleChangeViewRight}>Next</button>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default DashCard;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,OAAO,4BAA4B;AACnC,OAAOC,IAAI,MAAM,QAAQ;AACzB,OAAOC,MAAM,MAAM,UAAU;AAC7B,OAAOC,OAAO,MAAM,WAAW;AAC/B,SAASC,OAAO,QAAQ,2BAA2B;AACnD,SAASC,QAAQ,QAAQ,kCAAkC;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE5D,SAASC,QAAQA,CAAA,EAAG;EAAAC,EAAA;EAChB,MAAM,CAACC,WAAW,EAAEC,cAAc,CAAC,GAAGX,QAAQ,CAAC,CAAC,CAAC;EACjD,MAAM,CAACY,QAAQ,EAAEC,WAAW,CAAC,GAAGb,QAAQ,CAAC,IAAI,CAAC;EAC9C,MAAM,CAACc,UAAU,EAAEC,aAAa,CAAC,GAAGf,QAAQ,CAAC,IAAI,CAAC;EAClD,MAAM,CAACgB,OAAO,EAAEC,UAAU,CAAC,GAAGjB,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAACkB,OAAO,EAAEC,UAAU,CAAC,GAAGnB,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAACoB,KAAK,EAAEC,QAAQ,CAAC,GAAGrB,QAAQ,CAAC,IAAI,CAAC;EACxC,MAAM;IAAEsB;EAAK,CAAC,GAAGlB,OAAO,CAAC,CAAC;EAC1B,MAAM;IAAEmB;EAAM,CAAC,GAAGlB,QAAQ,CAAC,CAAC;EAE5B,MAAMmB,oBAAoB,GAAGA,CAAA,KAAM;IAC/Bb,cAAc,CAAEc,IAAI,IAAK,CAACA,IAAI,GAAG,CAAC,IAAI,CAAC,CAAC;EAC5C,CAAC;EAED,MAAMC,qBAAqB,GAAGA,CAAA,KAAM;IAChCf,cAAc,CAAEc,IAAI,IAAK,CAACA,IAAI,GAAG,CAAC,IAAI,CAAC,CAAC;EAC5C,CAAC;EAED,MAAME,QAAQ,GAAG,MAAAA,CAAA,KAAY;IACzBR,UAAU,CAAC,IAAI,CAAC;IAChBE,QAAQ,CAAC,IAAI,CAAC;IACd,IAAI;MACA,MAAMO,GAAG,GAAG,MAAMC,KAAK,CAAC,6CAA6CP,IAAI,CAACQ,MAAM,EAAE,CAAC;MACnF,MAAMC,KAAK,GAAG,MAAMH,GAAG,CAACI,IAAI,CAAC,CAAC;MAC9B,IAAID,KAAK,CAACE,IAAI,EAAEpB,WAAW,CAACkB,KAAK,CAACE,IAAI,CAAC;MACvC,IAAIF,KAAK,CAACG,MAAM,EAAEnB,aAAa,CAACgB,KAAK,CAACG,MAAM,CAAC;MAC7C,IAAIH,KAAK,CAACI,OAAO,EAAElB,UAAU,CAACc,KAAK,CAACI,OAAO,CAAC;IAChD,CAAC,CAAC,OAAOC,GAAG,EAAE;MACVC,OAAO,CAACjB,KAAK,CAAC,eAAe,EAAEgB,GAAG,CAAC;MACnCf,QAAQ,CAAC,qBAAqB,CAAC;IACnC,CAAC,SAAS;MACNF,UAAU,CAAC,KAAK,CAAC;IACrB;EACJ,CAAC;EAEDpB,SAAS,CAAC,MAAM;IACZ4B,QAAQ,CAAC,CAAC;EACd,CAAC,EAAE,CAACJ,KAAK,CAAC,CAAC;EAEX,IAAIL,OAAO,EAAE,oBAAOX,OAAA;IAAA+B,QAAA,EAAG;EAAoB;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAG,CAAC;EAC/C,IAAItB,KAAK,EAAE,oBAAOb,OAAA;IAAGoC,KAAK,EAAE;MAAEC,KAAK,EAAE;IAAM,CAAE;IAAAN,QAAA,EAAElB;EAAK;IAAAmB,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAI,CAAC;EAEzD,oBACInC,OAAA;IAAKsC,SAAS,EAAC,MAAM;IAAAP,QAAA,gBACjB/B,OAAA;MAAKsC,SAAS,EAAC,gBAAgB;MAAAP,QAAA,eAC3B/B,OAAA;QAAQuC,OAAO,EAAEtB,oBAAqB;QAAAc,QAAA,EAAC;MAAI;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACnD,CAAC,eACNnC,OAAA;MAAKsC,SAAS,EAAC,UAAU;MAAAP,QAAA,GACpB5B,WAAW,KAAK,CAAC,iBAAIH,OAAA,CAACN,IAAI;QAAC8C,IAAI,EAAEnC;MAAS;QAAA2B,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,EAC7ChC,WAAW,KAAK,CAAC,iBAAIH,OAAA,CAACL,MAAM;QAAC6C,IAAI,EAAEjC;MAAW;QAAAyB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,EACjDhC,WAAW,KAAK,CAAC,iBAAIH,OAAA,CAACJ,OAAO;QAAC4C,IAAI,EAAE/B;MAAQ;QAAAuB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC/C,CAAC,eACNnC,OAAA;MAAKsC,SAAS,EAAC,gBAAgB;MAAAP,QAAA,eAC3B/B,OAAA;QAAQuC,OAAO,EAAEpB,qBAAsB;QAAAY,QAAA,EAAC;MAAI;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACpD,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACL,CAAC;AAEd;AAACjC,EAAA,CAzDQD,QAAQ;EAAA,QAOIJ,OAAO,EACNC,QAAQ;AAAA;AAAA2C,EAAA,GARrBxC,QAAQ;AA2DjB,eAAeA,QAAQ;AAAC,IAAAwC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}