{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nimport { useAuth } from '../../context/AuthContext';\nimport { useTrans } from '../../context/TransactionContext';\nconst useInsightState = cat => {\n  _s();\n  const [data, setData] = useState([]);\n  const {\n    auth\n  } = useAuth();\n  const {\n    setTrans\n  } = useTrans();\n  const callData = async () => {\n    try {\n      const res = await fetch(`http://localhost:4500/api/getInsight/${cat}/${auth.userId}`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          userId: auth.userId\n        })\n      });\n      const jdata = await res.json();\n      console.log(jdata);\n      setData(jdata);\n      setTrans(prev => prev + 1);\n    } catch (error) {\n      console.error(\"Error fetching insight data:\", error);\n    }\n  };\n  const setUserData = val => {\n    console.log(auth.userId, ' ocing form insdie');\n    setData(val);\n  };\n  return {\n    data,\n    callData,\n    setUserData\n  };\n};\n_s(useInsightState, \"r7e1DChTJ16DtvNb2XeX2TaWl7E=\", false, function () {\n  return [useAuth, useTrans];\n});\nexport default useInsightState;","map":{"version":3,"names":["useState","useEffect","useAuth","useTrans","useInsightState","cat","_s","data","setData","auth","setTrans","callData","res","fetch","userId","method","headers","body","JSON","stringify","jdata","json","console","log","prev","error","setUserData","val"],"sources":["C:/web projects/ALW69-BOOK2/book2/src/components/app/insight/InsightState.js"],"sourcesContent":["import { useState, useEffect } from 'react';\r\nimport { useAuth } from '../../context/AuthContext';\r\nimport { useTrans } from '../../context/TransactionContext';\r\n\r\nconst useInsightState = (cat) => {\r\n  const [data, setData] = useState([]);\r\n  const { auth } = useAuth();\r\n  const { setTrans } = useTrans()\r\n\r\n\r\n  const callData = async () => {\r\n    try {\r\n      const res = await fetch(`http://localhost:4500/api/getInsight/${cat}/${auth.userId}`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({ userId: auth.userId })\r\n      });\r\n      const jdata = await res.json();\r\n      console.log(jdata)\r\n      setData(jdata);\r\n      setTrans((prev)=>(prev+1))\r\n    } catch (error) { \r\n      console.error(\"Error fetching insight data:\", error);\r\n    }\r\n  };\r\n\r\n  const setUserData = (val) => {\r\n    console.log(auth.userId, ' ocing form insdie')\r\n    setData(val);\r\n    \r\n  };\r\n\r\n  return {\r\n    data,\r\n    callData,\r\n    setUserData\r\n  };\r\n};\r\n\r\nexport default useInsightState;\r\n"],"mappings":";AAAA,SAASA,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC3C,SAASC,OAAO,QAAQ,2BAA2B;AACnD,SAASC,QAAQ,QAAQ,kCAAkC;AAE3D,MAAMC,eAAe,GAAIC,GAAG,IAAK;EAAAC,EAAA;EAC/B,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGR,QAAQ,CAAC,EAAE,CAAC;EACpC,MAAM;IAAES;EAAK,CAAC,GAAGP,OAAO,CAAC,CAAC;EAC1B,MAAM;IAAEQ;EAAS,CAAC,GAAGP,QAAQ,CAAC,CAAC;EAG/B,MAAMQ,QAAQ,GAAG,MAAAA,CAAA,KAAY;IAC3B,IAAI;MACF,MAAMC,GAAG,GAAG,MAAMC,KAAK,CAAC,wCAAwCR,GAAG,IAAII,IAAI,CAACK,MAAM,EAAE,EAAE;QACpFC,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UACP,cAAc,EAAE;QAClB,CAAC;QACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;UAAEL,MAAM,EAAEL,IAAI,CAACK;QAAO,CAAC;MAC9C,CAAC,CAAC;MACF,MAAMM,KAAK,GAAG,MAAMR,GAAG,CAACS,IAAI,CAAC,CAAC;MAC9BC,OAAO,CAACC,GAAG,CAACH,KAAK,CAAC;MAClBZ,OAAO,CAACY,KAAK,CAAC;MACdV,QAAQ,CAAEc,IAAI,IAAIA,IAAI,GAAC,CAAE,CAAC;IAC5B,CAAC,CAAC,OAAOC,KAAK,EAAE;MACdH,OAAO,CAACG,KAAK,CAAC,8BAA8B,EAAEA,KAAK,CAAC;IACtD;EACF,CAAC;EAED,MAAMC,WAAW,GAAIC,GAAG,IAAK;IAC3BL,OAAO,CAACC,GAAG,CAACd,IAAI,CAACK,MAAM,EAAE,oBAAoB,CAAC;IAC9CN,OAAO,CAACmB,GAAG,CAAC;EAEd,CAAC;EAED,OAAO;IACLpB,IAAI;IACJI,QAAQ;IACRe;EACF,CAAC;AACH,CAAC;AAACpB,EAAA,CAnCIF,eAAe;EAAA,QAEFF,OAAO,EACHC,QAAQ;AAAA;AAkC/B,eAAeC,eAAe","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}